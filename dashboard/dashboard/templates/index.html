{% extends "layout.html" %}
{% block content %}


<div class="jumbotron">
	<div class="container">

		<script type="text/javascript">
		    data = [
		    	{ name: "B1", value: 27, value2: 0}, 
		    	{ name: "B2", value: 0, value2: 69}, 
		    	{ name: "B3", value: 54, value2: 0}, 
		    	{ name: "B4", value: 0, value2: 89}, 
		    	{ name: "B5", value: 34, value2: 0}, 
		    	{ name: "B6", value: 0, value2: 12} 
		    ]

		    var margin = { top: 30, right: 10, bottom: 10, left: 10},
		    width = 500 - margin.left - margin.right,
		    height = 500 - margin.top - margin.bottom;

		    var x = d3.scale.linear()
		        .range([0, width])

		    var y = d3.scale.ordinal()
		        .rangeRoundBands([0, height], .2);

		    var tip = d3.tip()
				.attr("class", "d3-tip")
				.offset([-10, 0])
				.html(function(d) {
				return "<strong>Value:</strong> <span style='color:red'>"+ d.value + "</span>";
			})

		    var svg = d3.select(".jumbotron")
		    	.append("svg")
		        .attr("width", width + margin.left + margin.right)
		        .attr("height", height + margin.top + margin.bottom)
		        .append("g")
		        .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
		    ;

		    svg.call(tip);
		    
		    x.domain([-100,100])
		    y.domain(data.map(function (d) { return d.name; } ) );

		    svg.selectAll(".bar")
		        .data(data)
		        .enter().append("rect")
		        .attr("class", "bar")
		        .attr("x", function (d) { return x(Math.min(0, d.value)); } )
		        .attr("y", function (d) { return y(d.name); } )
		        .attr("width", function (d) { return Math.abs(x(d.value) - x(0)); })
		        .attr("height", y.rangeBand())
			    .on('mouseover', tip.show)
			    .on('mouseout', tip.hide)
		    ;

		    svg.selectAll(".bar2")
		        .data(data)
		        .enter().append("rect")
		        .attr("class", "bar2")
		        .attr("x", function (d) { return x(Math.min(0, -d.value2)); })
		        .attr("y", function (d) { return y(d.name); })
		        .attr("width", function (d) { return Math.abs(x(-d.value2) - x(0)); })
		        .attr("height", y.rangeBand())
			    .on('mouseover', tip.show)
			    .on('mouseout', tip.hide)
		    ;

		    svg.append("g")
		        .attr("class", "y axis")
		        .append("line")
		        .attr("x1", x(0))
		        .attr("x2", x(0))
		        .attr("y2", height)
		        ;

		    function type(d) {
		        d.value = +d.value;
		        return d;
		    }

		</script>

		
	</div> 
</div> 


{% endblock %}
